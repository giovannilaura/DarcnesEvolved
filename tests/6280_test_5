#
# 6280_test_5
#
# test bit test branch instructions
#

#
# test BBR0 (0x0f)
#

start bbr0 (0x0f) taken, take 1
set mem 0x2000 = 0x0f
set mem 0x2001 = 0x42
set mem 0x2002 = 0x7f
set mem 0x0042 = 0x00
set pc 0x2000
set cycles 8
run
check cycles 0
check pc 0x2082
done

start bbr0 (0x0f) not taken, take 1
set mem 0x2000 = 0x0f
set mem 0x2001 = 0x42
set mem 0x2002 = 0x7f
set mem 0x0042 = 0x01
set pc 0x2000
set cycles 6
run
check cycles 0
check pc 0x2003
done

#
# test BBR7 (0x7f)
#

start bbr7 (0x7f) taken, take 1
set mem 0x2000 = 0x7f
set mem 0x2001 = 0x42
set mem 0x2002 = 0x80
set mem 0x0042 = 0x00
set pc 0x2000
set cycles 8
run
check cycles 0
check pc 0x1f83
done

start bbr7 (0x7f) not taken, take 1
set mem 0x2000 = 0x7f
set mem 0x2001 = 0x42
set mem 0x2002 = 0x7f
set mem 0x0042 = 0x80
set pc 0x2000
set cycles 6
run
check cycles 0
check pc 0x2003
done

#
# test BBS0 (0x8f)
#

start bbs0 (0x8f) taken, take 1
set mem 0x2000 = 0x8f
set mem 0x2001 = 0x42
set mem 0x2002 = 0x7f
set mem 0x0042 = 0x01
set pc 0x2000
set cycles 8
run
check cycles 0
check pc 0x2082
done

start bbs0 (0x8f) not taken, take 1
set mem 0x2000 = 0x8f
set mem 0x2001 = 0x42
set mem 0x2002 = 0x7f
set mem 0x0042 = 0x00
set pc 0x2000
set cycles 6
run
check cycles 0
check pc 0x2003
done

#
# test BBS7 (0xff)
#

start bbs7 (0xff) taken, take 1
set mem 0x2000 = 0xff
set mem 0x2001 = 0x42
set mem 0x2002 = 0x80
set mem 0x0042 = 0x80
set pc 0x2000
set cycles 8
run
check cycles 0
check pc 0x1f83
done

start bbs7 (0xff) not taken, take 1
set mem 0x2000 = 0xff
set mem 0x2001 = 0x42
set mem 0x2002 = 0x7f
set mem 0x0042 = 0x00
set pc 0x2000
set cycles 6
run
check cycles 0
check pc 0x2003
done

#
# EOF
#
